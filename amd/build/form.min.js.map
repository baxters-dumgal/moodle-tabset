{"version":3,"file":"form.min.js","sources":["../src/form.js"],"sourcesContent":["define(['jquery'], function($) {\n    return {\n        /**\n         * Initialise the form behaviour for the Tabset activity.\n         *\n         * Shows/hides tab content editors based on selected template.\n         *\n         * @param {Object} tabtitles Mapping of template IDs to array of tab titles.\n         */\n        init: function(tabtitles) {\n            var $select = $('#id_templateid');\n\n            /**\n             * Show/hide editor fields depending on the chosen template.\n             *\n             * Updates labels to match the tab titles.\n             */\n            function updateEditors() {\n                var tid = $select.val();\n                var titles = tabtitles[tid] || [];\n\n                // Hide all editors first.\n                $('[id^=fitem_id_tabcontent]').hide();\n\n                // Show only as many as there are titles.\n                for (var i = 0; i < titles.length; i++) {\n                    var $field = $('#fitem_id_tabcontent_' + i);\n                    $field.show();\n                    $field.find('label').text(titles[i]);\n                }\n            }\n\n            $select.on('change', updateEditors);\n            updateEditors(); // run on page load\n        }\n    };\n});\n"],"names":["define","$","init","tabtitles","$select","updateEditors","tid","val","titles","hide","i","length","$field","show","find","text","on"],"mappings":"AAAAA,yBAAO,CAAC,WAAW,SAASC,SACjB,CAQHC,KAAM,SAASC,eACPC,QAAUH,EAAE,2BAOPI,oBACDC,IAAMF,QAAQG,MACdC,OAASL,UAAUG,MAAQ,GAG/BL,EAAE,6BAA6BQ,WAG1B,IAAIC,EAAI,EAAGA,EAAIF,OAAOG,OAAQD,IAAK,KAChCE,OAASX,EAAE,wBAA0BS,GACzCE,OAAOC,OACPD,OAAOE,KAAK,SAASC,KAAKP,OAAOE,KAIzCN,QAAQY,GAAG,SAAUX,eACrBA"}